# 总结

在本次设计我曾遇到的如下一些问题：

1、`size_t strlen (const char string[])`

`strlen()` 函数在计算输入或输出阵列的字节数时具有遇零终止特性。在进行串
口通信时由于传输字符串中含有“0”，所以一度造成通信错误。最后采用了人工计
数方法加以克服。但人工计数方法具有繁杂的缺陷，不够智能化。

2、CRC 循环校验

CRC循环校验从要进行校验的数组中的第一字节开始至 CRC 校验高字节前面的字节
数据结束。CRC校验的头文件中默认的变量数据类型为 `unsigned short int`，而
主程序中的相关变量的数据类型与默认类型不同，导致 CRC 循环校验环节不能正
常运行。

3、仪表波特率

由于仪表显示字符限制，厂家把仪表可选择的波特率分别编号，并且在仪表用户手
册进行了说明。由于读数前没有认真阅读仪表用户手册，造成读数的误认。所以在
读取仪表波特率时要对照仪表用户手册的编号表。

4、更新数据记录表格

记录数据的方法很多，初步方案为保存到 Excel，但由于相关的库函数不具有实时
特性，所以修正方案，将数据写在面板的 Table 中。由于数据不能显示在空白的
Table 中，所以必须对 Table 进行初始化。经实验证明，初始化后再运行更新程
序就可以从第一行开始依次显示数据了。开始由于采用 Toggle Button 的两个值
控制数据记录，只能控制开始，所以系统只可以自动记录有限次数据。受循环召测
的开始和停止的启发，选择在数据记录面板上添加时钟控件，用 Toggle Button
的两个值控制时钟的运行，通过对时钟控件的设置选择需要记录的数据。

5、保存数据

为了使界面更加友好，在保存数据时采用了信息对话框。由于缺少头文件
commdlg.h，致使无法识别头文件中定义的数据类型 OPENFILENAME。

本次实验，从刚开始的毫无头绪、手忙脚乱到中间阶段的不断尝试和修改，到最后
的按照预期的完成任务，我在老师的指导和自己的努力下学习到了很多知识。虽然
本次设计基本符合预期要求，但是还是存在不足。针对这些不足和需要改进的地方，
我将在以后的学习中深入地研究相关方面的知识，争取更加熟练的掌握相关技术。
